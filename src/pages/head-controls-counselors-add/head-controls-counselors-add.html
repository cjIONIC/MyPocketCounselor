<!--
  Generated template for the HeadControlsCounselorsAddPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Add Counselor</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <ion-list>
    <div class="profile">
        <div class="imageFooter"><button class="upload" (click)="changeProfilePic()"><ion-icon name="camera"></ion-icon></button></div>
        <div *ngIf="!profilePic" class="noprofile"><ion-icon name="person" class="person"></ion-icon></div>
        <div *ngIf="profilePic" ><img src="{{ profilePic }}" class="avatar"></div>
      
    </div>

    <form #counselorForm="ngForm" (ngSubmit)="onSubmit(counselorForm.value)" novalidate>

          <ion-item>
            <ion-label color="primary" stacked> Email </ion-label>
            <ion-input type="text" 
                #email="ngModel" 
                name="email" 
                ngModel
                required></ion-input>
          </ion-item>
          <div *ngIf="email.errors && (email.dirty || email.touched)">
            <div [hidden]="!email.errors.required" class="alert">
              Email is required
            </div>
          </div>

          <ion-item>
            <ion-label color="primary" stacked> First name </ion-label>
            <ion-input type="text" 
                #firstname="ngModel" 
                name="firstname" 
                ngModel 
                required></ion-input>
          </ion-item>
          <div *ngIf="firstname.errors && (firstname.dirty || firstname.touched)">
            <div [hidden]="!firstname.errors.required" class="alert">
              First name is required
            </div>
          </div>

          <ion-item>
            <ion-label color="primary" stacked> Last name </ion-label>
            <ion-input type="text" 
                #lastname="ngModel" 
                name="lastname" 
                ngModel
                required></ion-input>
          </ion-item>
          <div *ngIf="lastname.errors && (lastname.dirty || lastname.touched)">
            <div [hidden]="!lastname.errors.required" class="alert">
              Last name is required
            </div>
          </div>
          

          <ion-item>
            <ion-label color="primary" stacked> Password</ion-label>
            <ion-input type="password" #password="ngModel" name="password" 
                  minlength="6" pattern="^[a-zA-Z0-9]*$" 
                  [(ngModel)]="passwordDefault" required></ion-input>
          </ion-item>
          <div *ngIf="password.errors && (password.dirty || password.touched)">
            <div [hidden]="!password.errors.required" class="alert">
              Password is required
            </div>
            <div [hidden]="!password.errors.pattern" class="alert">
              Password must only contain letters and numbers
            </div>
            <div [hidden]="!password.errors.minlength" class="alert">
              Password must contain atleast six characters
            </div>
          </div>

          <ion-item>
              <ion-label color="primary" stacked> Confirm Pasword</ion-label>
              <ion-input type="password" #match="ngModel" name="match" 
                    ngModel
                    (ionChange)="passwordConfirmation($event)" 
                    required></ion-input>
          </ion-item>
            <div *ngIf="match.errors && (match.dirty || match.touched)">
              <div [hidden]="!match.errors.required" class="alert">
                Confirm password is required
              </div>
            </div>
            <div *ngIf="!matchPassword && !match.errors" class="alert">
              Mismatch
            </div>
            
        
          <div class="button">
            <button class="btn" block ion-button [disabled]="!counselorForm.form.valid || !matchPassword" type="submit">Register</button>
          </div>
      </form>
     
  
  </ion-list>
</ion-content>
